Here’s a single, copy-pastable prompt for GitHub Copilot background agents that includes the context, constraints, and next steps.

### Project context
- Monorepo root: `/Users/sungmin/github/mildang-frontend`
- Target app: `/Users/sungmin/github/mildang-frontend/apps/ai-content-generator`
- Styling: Panda CSS (`@mildang/styled-system/css`) with CVA variants; semantic tokens only
- Design system: `@mildang/design-system`
- Icons: `@mildang/icons`
- Testing/storybook: Use Storybook first to validate new abstractions before replacing usages in pages

### Workspace rules (must follow)
- Less LOC is better; SOLID; Clean Architecture
- Use semantic tokens only (no atomic colors). Examples:
  - Text: `common.12/11/10/9`, inverse: `other.text.inverse`
  - BG: `common.1/2/a1/a2`
  - Borders: `common.3/5/7`
  - Buttons: `info.6/7/8`, `success.*`, `warning.*`, `error.*`, disabled `common.4`
  - Status BG+Text combos: `success.2 + success.9`, etc.
- Panda patterns:
  - Use `css()` for static objects; `cva()` for variants; `cx()` for merging
  - Keep style declarations outside component functions
- React rules:
  - Do not modify hook dependencies
  - Do not remove comments
- Imports:
  - Prefer absolute paths when possible
  - Do not modify import paths carelessly
- Test files colocated with implementation (but Storybook-first is required here)
- Do not introduce new styling systems

### What is already done
- New reusable component created and integrated: `SectionCard`
  - File: `/apps/ai-content-generator/src/app/_components/SectionCard.tsx`
  - Variants: `padding (md|sm|none)`, `sticky (bool)`, `overflow (hidden|visible)`, `width (auto|fixed)`, `height (auto|full)`, `flex (none|1)`
  - Storybook: `/apps/ai-content-generator/src/app/_components/SectionCard.stories.tsx` (multiple stories including a real-world example)
  - README: `/apps/ai-content-generator/src/app/_components/README.md` (usage, guidelines)
  - Integrated replacements:
    - `/apps/ai-content-generator/src/app/(core)/generation-queue/page.tsx`: outer container replaced with `<SectionCard height="full" />`
    - `/apps/ai-content-generator/src/app/(core)/problem-bank/ProblemBankPage.tsx`: outer container, left tree container, and right sticky sidebar replaced with `SectionCard` variants
- Lint and types: no new errors introduced by these changes (pre-existing repo-wide TS errors remain)

### Key files in scope
- Generation Queue page:
  - `/apps/ai-content-generator/src/app/(core)/generation-queue/page.tsx`
  - Components: `/apps/ai-content-generator/src/app/(core)/generation-queue/components/*`
- Problem Bank page:
  - `/apps/ai-content-generator/src/app/(core)/problem-bank/ProblemBankPage.tsx`
  - Components: `/apps/ai-content-generator/src/app/(core)/problem-bank/problem-bank/*`

### Existing overlapping markup to abstract (already identified)
- Page header with colored square + title (+ optional right slot)
- Two-column label/value grid (small stat grid)
- Error/info banners
- Toggleable chip group (generalization of `SelectionControls`)
- Hook for set-based toggles (`useSelectedSet`)

### Next goals (story-first, then replace)
- Implement these abstractions under `/apps/ai-content-generator/src/app/_components/` and `_hooks/`:
  1) PageHeader
     - Props:
       - `tone`: `'info' | 'success' | 'warning' | 'error'` → badge color
       - `title`: `ReactNode`
       - `right?`: `ReactNode`
       - `className?`: `string`
     - Use semantic tokens and CVA for the badge; keep layout styles via `css()`.
     - Story: comprehensive stories with controls for `tone` and examples including a “Real World” section.
     - Replace usages:
       - In `generation-queue/page.tsx` header
       - In `problem-bank/ProblemBankPage.tsx` header
  2) StatGrid
     - Two-column label/value grid
     - Props: `rows: { label: string; value: React.ReactNode; valueColor?: Token }[]`
     - Story: show multiple rows, colors, and long content handling
     - Replace usages:
       - In `ProblemBankPage.tsx` right sticky panel stats
       - Optionally prepare for pagination status block in Generation Queue
  3) NoticeBanner
     - Props: `tone ('info'|'success'|'warning'|'error')`, children (content), `className?`
     - Use CVA variants mapping to semantic bg/border tokens
     - Story: all tones, long text, inline links
     - Replace usages:
       - In `ProblemBankPage.tsx` error area
       - Keep structure identical, only replace wrapper and colors.

- Optional next (if time permits; still story-first):
  - ToggleChips (generalize `problem-bank/SelectionControls`)
  - useSelectedSet hook → `/apps/ai-content-generator/src/app/_hooks/useSelectedSet.ts`
  - SearchInput
  - PdfLinksGroup

### Replacement targets (headers)
- In `generation-queue/page.tsx`, replace:
  - Current header uses left square `bg: 'info.7'` + title "문제 생성 예약" and right token counter
  - Replace with:
    - `<PageHeader tone="info" title={<Text variant="body2-R" color="common.12">문제 생성 예약</Text>} right={<RightContent/>} />`
- In `problem-bank/ProblemBankPage.tsx`, replace:
  - Current header uses left square `bg: 'success.7'` + title "문제 은행"
  - Replace with:
    - `<PageHeader tone="success" title={<Text variant="body2-R" color="common.12">문제 은행</Text>} />`

### Constraints and quality bar
- Use semantic tokens only; no atomic colors
- Use Panda CSS `cva` for variants and keep styles outside component bodies
- Keep imports stable; prefer absolute paths consistent with the app
- Do not touch unrelated hook dependencies or remove comments
- Do not refactor beyond the explicitly listed replacements
- Co-locate Storybook stories next to components, filename `*.stories.tsx`
- Keep components small, readable, and well-typed (no `any` unless unavoidable)
- Add minimal, meaningful JSDoc (explain intent and variants)

### Run instructions (use app dir, not repo root)
- Terminal cwd must be: `/Users/sungmin/github/mildang-frontend/apps/ai-content-generator`
- Storybook:
  - Start: `npm run storybook`
  - Build: `npm run build-storybook`
- Dev (if needed): `npm run dev`
- Build app: `npm run build`
- Note: Running `npm run` at repo root will not have `dev` or `storybook` scripts.

### Definition of Done
- New abstractions created under `_components/` (and `_hooks/` where relevant)
- Storybook stories added for each new component with controls and real-world examples
- No linter errors introduced in edited files
- No TypeScript errors introduced in edited files (repo has pre-existing errors; do not attempt to fix them)
- Replace the identified one-off markup in the two pages with the new abstractions, preserving UI and behavior
- Use absolute imports where appropriate and keep styles in Panda/CVA with semantic tokens
- Keep changes narrowly scoped to the requested replacements

### References
- Implemented abstraction:
  - `/apps/ai-content-generator/src/app/_components/SectionCard.tsx`
  - Stories: `/apps/ai-content-generator/src/app/_components/SectionCard.stories.tsx`
  - Docs: `/apps/ai-content-generator/src/app/_components/README.md`
- Replacement sites:
  - `/apps/ai-content-generator/src/app/(core)/generation-queue/page.tsx`
  - `/apps/ai-content-generator/src/app/(core)/problem-bank/ProblemBankPage.tsx`
- Problem Bank helper components (for context only; do not refactor):
  - `/apps/ai-content-generator/src/app/(core)/problem-bank/problem-bank/SelectionControls.tsx`
  - `/apps/ai-content-generator/src/app/(core)/problem-bank/problem-bank/ProblemBankRow.tsx`
  - `/apps/ai-content-generator/src/app/(core)/problem-bank/problem-bank/RecursiveNode.tsx`

Please proceed in this order:
1) Build `PageHeader` with stories; verify visually; replace in both pages.
2) Build `StatGrid` with stories; verify; replace the stat labels in Problem Bank right panel.
3) Build `NoticeBanner` with stories; verify; replace error banner in Problem Bank.

Ensure Storybook renders and no new lint/TS errors appear in the touched files. Do not make unrelated changes.

✅ user rule has been considered**